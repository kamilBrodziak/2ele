var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];g in d||(d[g]={});d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=$jscomp.propertyToPolyfillSymbol[e],
$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
var Gallery=function(a){this.container=a;this.nextButton=a.find(".teaseProductGalleryNext");this.prevButton=a.find(".teaseProductGalleryPrev");this.picturesObjs=[];this.leftClass="left";this.rightClass="right";this.moving=!1;var b=this;a.find(".teaseProductGalleryPicture").each(function(a,d){b.picturesObjs.push($(d))});this.imagesObjs=[];a.find(".teaseProductGalleryPicture img").each(function(a,d){b.imagesObjs.push($(d))});this.ind=parseInt(b.picturesObjs.length/2);this.images=a.data("imgs");this.buttonClick(this.nextButton,
!0);this.buttonClick(this.prevButton,!1)};Gallery.prototype.move=function(a,b,c){var d=this;a.css("transition","all 0.2s ease");c?a.addClass(b):a.removeClass(b);setTimeout(function(){a.css("transition","none");d.moving=!1},200)};
Gallery.prototype.buttonClick=function(a,b){var c=this;a.on("click",function(){if(!c.moving){c.moving=!0;var a=b?c.leftClass:c.rightClass,e=b?c.rightClass:c.leftClass;c.move(c.picturesObjs[c.ind],a,!0);c.move(c.picturesObjs[c.ind+(b?1:-1)],e,!1);if(b){var f=c.picturesObjs.shift();c.picturesObjs.push(f)}else f=c.picturesObjs.pop(),c.picturesObjs.unshift(f);f.removeClass(a);f.addClass(e)}})};
Gallery.prototype.next=function(){var a=this;a.nextButton.on("click",function(){if(!a.moving){a.moving=!0;a.move(a.picturesObjs[a.ind],a.leftClass,!0);a.move(a.picturesObjs[a.ind+1],a.rightClass,!1);var b=a.picturesObjs.shift();b.removeClass(a.leftClass);b.addClass(a.rightClass);a.picturesObjs.push(b)}})};
Gallery.prototype.prev=function(){var a=this;a.prevButton.on("click",function(){if(!a.moving){a.moving=!0;a.move(a.picturesObjs[a.ind],a.rightClass,!0);a.move(a.picturesObjs[a.ind-1],a.leftClass,!1);var b=a.picturesObjs.pop();b.removeClass(a.rightClass);b.addClass(a.leftClass);a.picturesObjs.unshift(b)}})};var MobileNav=function(a,b,c){this.nav=a;this.showClass=b;this.closeButton=c;this.addCloseButton()};MobileNav.prototype.addCloseButton=function(){var a=this;this.closeButton.on("click",function(){a.nav.hasClass(a.showClass)?a.shrinkNav():a.expandNav()})};MobileNav.prototype.addNavSubListExpandButton=function(a,b,c){a.each(function(a,e){var d=$(e);d.on("click",function(){var a=d.parent().children("."+b);a.hasClass(c)?(d.removeClass(c),a.removeClass(c)):(d.addClass(c),a.addClass(c))})})};
MobileNav.prototype.addCloseOnResizeEvent=function(){var a=this;$(window).on("resize",function(){a.shrinkNav()})};MobileNav.prototype.expandNav=function(){this.nav.addClass(this.showClass);$("body").addClass(this.showClass)};MobileNav.prototype.shrinkNav=function(){this.nav.removeClass(this.showClass);$("body").removeClass(this.showClass)};var AjaxPagination=function(a,b){this.containerID=b;this.container=a;this.firstPageChange=!0};AjaxPagination.prototype.addAjaxPagination=function(){var a=this;$("body").on("click","#"+a.containerID+" .paginationLink",function(b){b.preventDefault();b=parseInt($(this).data("page"));a.changePage(b)})};
AjaxPagination.prototype.changePage=function(a){var b={page:a,maxPage:ajaxPaginationParams.maxPage,action:"changePage"},c=this.container.data("category"),d=this.container.data("search");this.firstPageChange&&(window.history.pushState({html:this.container.html(),pageTitle:document.title},""),this.firstPageChange=!1);c&&(b.category=c);d&&(b.search=this.container.data("search"));this.reloadPageAjax(b,a)};
AjaxPagination.prototype.reloadPageAjax=function(a,b){var c=this,d=window.location.href.split("?")[0],e=window.location.href.split("?")[1];e=e?"?"+e:"";d=1===b?d.replace(/page\/[0-9]+(\/)?/,""):d.match(/page\/[0-9]+/)?d.replace(/page\/[0-9]+/,"page/"+b):d+("page/"+b+"/");d+=e;ajaxCall(a,function(){c.container.addClass("loadingScreen")},function(a){c.container.removeClass("loadingScreen");console.log(a)},function(a){c.container.removeClass("loadingScreen");c.container.empty().append(a);window.document.title=
window.document.title.toString().replace("-","- strona "+b+" -");window.history.pushState({html:c.container.html(),pageTitle:window.document.title},"",d);window.onpopstate=function(a){a.state&&(c.container.empty().append(a.state.html),document.title=a.state.pageTitle)}})};var CustomSelect=function(){};
CustomSelect.prototype.showSelect=function(){var a=this,b=$("body");b.on("click",".customSelect",function(b){b=$(this).find(".customSelectItemsContainer").hasClass("hide");a.hideSelect();b&&($(this).find(".customSelectItemsContainer").removeClass("hide"),$(this).find(".customSelectSelected").addClass("selectArrowActive"))});b.on("click",".customSelectItem",function(a){var b=$(this);a=b.closest(".teaseProduct");var c=a.find(".customSelectSelected"),f=a.find(".teaseProductFormQuantity"),g=parseInt(b.data("max_quantity"));
c.html(b.html());c.data("variation_id",$(this).data("variation_id"));a.find(".teaseProductFormSubmit").removeAttr("disabled");a.find(".teaseProductPicture").attr("src",b.data("image_src"));a.find(".teaseProductPicture").siblings("source").each(function(a,c){$(c).attr("srcset",b.data("image_src"))});99>=g&&f.attr("max",g);parseInt(f.val())>g&&f.val(g);$(this).siblings(".sameAsSelected").removeClass("sameAsSelected");$(this).addClass("sameAsSelected")})};
CustomSelect.prototype.hideSelectWhenClickedOutsideSelect=function(){var a=this;$("body").on("click",function(b){b.target.className.includes("customSelectSelected")||a.hideSelect()})};CustomSelect.prototype.hideSelect=function(){$(".customSelectItemsContainer").addClass("hide");$(".selectArrowActive").removeClass("selectArrowActive")};var TeaseProducts=function(a,b){this.product=a;this.anchorClass=b};TeaseProducts.prototype.addClosing=function(){$("body").on("click",function(a){"productWidgetContainer"!==$(a.target).attr("id")&&$("#productWidget").remove()})};
TeaseProducts.prototype.addForm=function(a,b){$("body").on("submit","."+a,function(a){a.preventDefault();a=$(this);var c=a.data("product_id"),e=a.find(".teaseProductFormQuantity").val(),f=a.find(".customSelectSelected").data("variation_id"),g=a.closest(".teaseProduct");$.ajax({url:ajaxPaginationParams.ajaxUrl,type:"POST",data:{productID:c,quantity:e,variationID:f,action:"addProductToCart"},beforeSend:function(){g.addClass("loadingScreen")},error:function(a){console.log(a);g.removeClass("loadingScreen")},
success:function(a){g.removeClass("loadingScreen");var c=$("#"+b),d=2E3,e="";isNaN(a)?(d=3500,e="errorScreen",g.attr("data-error_message",a)):(c.html(a),e="successScreen");g.addClass(e);window.setTimeout(function(){g.removeClass(e)},d)}})})};var CartWidget=function(a){this.widgetContainer=a;this.widget=null;this.cartItemClass="cartItem";this.cartItemsQuantities=this.cartItemsRemoves=null;this.couponForm=a.find("#cartCouponForm")};CartWidget.prototype.withWidget=function(){this.widget&&this.widget.remove();this.widget=this.widgetContainer.find(".cartWidget");this.cartItemsRemoves=this.widget.find(".cartItemRemove");this.cartItemsQuantities=this.widget.find(".cartItemQuantity");this.addRemoveItemButton();this.addQuantityChangeInput();this.addCouponCode()};
CartWidget.prototype.loadWidgetAjax=function(){this.reloadWidgetAjax(data)};
CartWidget.prototype.addCouponCode=function(){console.log("test");var a=this.widgetContainer.find("#cartCoupon"),b=a.find("#cartCouponForm"),c=b.find("#cartCouponInput"),d=b.find("#cartCouponSubmit"),e=a.find("#cartCouponMessage"),f=this.widgetContainer.find("#cartTotals");d.attr("disabled",!0);c.on("input",function(){var a=""===c.val();d.attr("disabled",a)});b.on("submit",function(b){b.preventDefault();ajaxCall({action:"addCoupon",coupon:c.val()},function(){a.addClass("loadingScreen")},function(b){a.removeClass("loadingScreen");
console.log(b)},function(b){a.removeClass("loadingScreen");b=JSON.parse(b);b.result&&(f.empty(),f.append(b.cartTotals));e.html(b.message)})})};CartWidget.prototype.reloadWidgetAjax=function(a){var b=this;ajaxCall(a,function(){b.widgetContainer.addClass("loadingScreen")},function(){b.widgetContainer.removeClass("loadingScreen")},function(a){b.widgetContainer.removeClass("loadingScreen");b.widgetContainer.empty().append(a);b.withWidget()})};
CartWidget.prototype.addRemoveItemButton=function(){var a=this;this.cartItemsRemoves.each(function(b,c){$(c).on("click",function(b){b.preventDefault();b={productKey:$(c).closest("."+a.cartItemClass).data("product_key"),action:"removeProductFromCart"};a.reloadWidgetAjax(b)})})};
CartWidget.prototype.addQuantityChangeInput=function(){var a=this;this.cartItemsQuantities.each(function(b,c){$(c).on("keyup focusout",function(b){b.preventDefault();var d=$(c);"keyup"===b.type&&13===b.keyCode&&d.blur();"focusout"===b.type&&$.when(addInputMinMaxTesting(d)).done(function(){var b={productKey:d.closest("."+a.cartItemClass).data("product_key"),quantity:d.val(),action:"changeProductQuantityInCart"};a.reloadWidgetAjax(b)})})})};var FormValidation=function(){};FormValidation.prototype.addBasicValidation=function(a,b,c,d,e,f){this.submit=f;this.validation={username:!1,email:!1,confirmEmail:!1,password:!1,confirmPassword:!1};this.submit.attr("disabled",!0);this.usernameValidation(a);this.emailValidation(b,c);this.passwordValidation(d,e)};
FormValidation.prototype.usernameValidation=function(a){var b={inputName:"username",disallowedKeys:[" ","@"],testMatch:!1,testRegex:{regex:/(^[^@]+$)/,message:a.data("regex_message")},testUnique:{message:a.data("unique_message")}};this.inputValidation(a,b)};
FormValidation.prototype.emailValidation=function(a,b){var c=/^(([^<>()\[\]\.,;:\s@"]+(\.[^<>()\[\]\.,;:\s@"]+)*)|(".+"))@(([^<>()[\]\.,;:\s@"]+\.)+[^<>()[\]\.,;:\s@"]{2,})$/i,d=function(d){return{inputName:d?"email":"confirmEmail",disallowedKeys:[" "],allowPaste:d,testMatch:{isParent:d,matchingInput:d?b:a,matchingInputName:d?"confirmEmail":"email",message:a.data("match_message")},testRegex:d?{regex:c,message:a.data("regex_message")}:!1,testUnique:d?{message:a.data("unique_message")}:!1}};this.inputValidation(a,
d(!0));this.inputValidation(b,d(!1))};FormValidation.prototype.passwordValidation=function(a,b){var c=/([^\s])/,d=function(d){return{inputName:d?"password":"confirmPassword",disallowedKeys:[" "],allowPaste:d,testMatch:{isParent:d,matchingInput:d?b:a,matchingInputName:d?"confirmPassword":"password",message:a.data("match_message")},testRegex:d?{regex:c,message:a.data("regex_message")}:!1,testUnique:!1}};this.inputValidation(a,d(!0));this.inputValidation(b,d(!1))};
FormValidation.prototype.inputValidation=function(a,b){var c,d=!0,e=this,f=a.parent(),g=function(c,d,f,g){(f=void 0===f?!1:f)?e.validate(f,void 0===g?"":g,c,d):e.validate(a,b.inputName,c,d)},k=b.disallowedKeys;if(!b.allowPaste)a.on("paste",function(a){a.preventDefault()});if(k.length)a.on("keydown",function(a){clearTimeout(c);for(var b=$jscomp.makeIterator(k),e=b.next();!e.done;e=b.next())if(a.key===e.value)return d=!1;d=!0});a.on("keyup",function(){if(d){var e=a.val(),h=b.testRegex;if(h&&!h.regex.test(e))g(!1,
h.message);else{var k=(h=b.testMatch)?h.matchingInput.val()===e:!0;if(k||h.isParent){var m=b.testUnique;m?(g(!1,"Sprawdzanie unikalno\u015bci..."),c=setTimeout(function(){ajaxCall({action:"isUserUnique",type:b.inputName,value:e},function(){return f.addClass("loadingRight")},function(){return f.removeClass("loadingRight")},function(a){f.removeClass("loadingRight");g("true"===a,"true"===a?"":m.message)})},1E3)):g(!0,"");h.isParent&&!m&&(console.log("test"),g(k,k?"":h.message,h.matchingInput,h.matchingInputName))}else g(!1,
h.message)}}})};FormValidation.prototype.validate=function(a,b,c,d){var e=c?"approvedInput":"wrongInput";this.validation[b]=c;this.validateForm();this.frontendNotice(a,d,e)};FormValidation.prototype.validateForm=function(){this.submit.attr("disabled",!(this.validation.username&&this.validation.email&&this.validation.confirmEmail&&this.validation.password&&this.validation.confirmPassword))};
FormValidation.prototype.frontendNotice=function(a,b,c){var d=function(b,c){a.hasClass(b)&&a.removeClass(b);a.hasClass(c)||a.addClass(c)};a.parent().siblings(".inputNotice").html(b);"wrongInput"===c?d("approvedInput","wrongInput"):d("wrongInput","approvedInput")};var LoginWidget=function(a){this.widgetContainer=a;this.widget=null;this.loadingClass="loadingScreen"};
LoginWidget.prototype.withWidget=function(a){a=void 0===a?!1:a;this.widget&&this.widget.remove();this.widget=this.widgetContainer.find(".loginWidget");this.registerForm=this.widget.find(".registerForm");this.registerFormInputs={username:this.registerForm.find(".registerFormUsernameInput"),email:this.registerForm.find(".registerFormEmailInput"),confirmEmail:this.registerForm.find(".registerFormConfirmEmailInput"),password:this.registerForm.find(".registerFormPasswordInput"),confirmPassword:this.registerForm.find(".registerFormConfirmPasswordInput"),
submit:this.registerForm.find(".registerFormSubmit")};this.loginForm=this.widget.find(".loginForm");this.loginFormInputs={username:this.loginForm.find(".loginFormUsernameInput"),password:this.loginForm.find(".loginFormPasswordInput"),remember:this.loginForm.find(".loginFormRememberCheckbox")};this.addNav("loginWidgetNavListItem","loginWidgetNavList");this.addRegisterValidation();this.addRegisterAjax();this.addLoginAjax(a)};
LoginWidget.prototype.loadWidgetAjax=function(a){a=void 0===a?!1:a;var b=this,c=this.widgetContainer.find(".loginWidget");ajaxCall({action:"loadLoginWidgetAjax"},function(){b.widgetContainer.addClass(b.loadingClass)},function(a){b.widgetContainer.removeClass(b.loadingClass);console.log(a)},function(d){b.widgetContainer.removeClass(b.loadingClass);b.widgetContainer.empty().append(d);c&&b.withWidget(a)})};
LoginWidget.prototype.addNav=function(a,b){var c=this,d=this.widget.find("."+b),e={};d.find("."+a).each(function(a,b){a=$(b).data("section");e[a]=c.widget.find("."+a);$(b).on("click",function(a){a.preventDefault();a=$(b);var c=d.find(".active");c.removeClass("active");c.removeAttr("disabled");e[c.data("section")].addClass("hide");a.addClass("active");a.attr("disabled",!0);e[a.data("section")].removeClass("hide")})})};
LoginWidget.prototype.addRegisterAjax=function(){var a=this.registerFormInputs.username,b=this.registerFormInputs.email,c=this.registerFormInputs.password,d=this.registerForm.find(".registerFormNotices"),e=this,f={action:"userRegisterAjax"},g=function(){e.registerForm.addClass(e.loadingClass)},k=function(){e.registerForm.removeClass(e.loadingClass)},l=function(f){e.registerForm.removeClass(e.loadingClass);"success"===f?(a.val(""),b.val(""),e.registerFormInputs.confirmEmail.val(""),c.val(""),e.registerFormInputs.confirmPassword.val(""),
d.html("Rejestracja przebieg\u0142a pomy\u015blnie! Mo\u017cesz teraz zalogowa\u0107 si\u0119.")):d.html(f);$("html, body").animate({scrollTop:0},600)};this.registerForm.on("submit",function(d){d.preventDefault();f.username=a.val();f.email=b.val();f.password=c.val();ajaxCall(f,g,k,l)})};
LoginWidget.prototype.addLoginAjax=function(a){var b=this;a=void 0===a?!1:a;var c=this.loginFormInputs.username,d=this.loginFormInputs.password,e=this.loginFormInputs.remember,f=this,g=function(){f.loginForm.addClass(f.loadingClass)},k=function(){f.loginForm.removeClass(f.loadingClass)},l=function(c){f.loginForm.removeClass(f.loadingClass);"success"===c?a?location.reload():f.loadLogoutWidget():f.loginForm.find(".loginFormNotices").html(c);b.widgetContainer.animate({scrollTop:0},600)},h={action:"userLoginAjax",
signOn:!a};this.loginForm.on("submit",function(a){a.preventDefault();h.username=c.val();h.password=d.val();h.remember=e.is(":checked");ajaxCall(h,g,k,l)})};
LoginWidget.prototype.loadLogoutWidget=function(){var a=this,b=this,c={action:"userLogoutAjax"},d=$('<button class="buttonBlackAnimated" value="Wyloguj si\u0119">'),e=function(){b.widget.addClass(b.loadingClass)},f=function(){b.widget.removeClass(b.loadingClass)},g=function(){b.widget.removeClass(b.loadingClass);b.loadWidgetAjax();a.widgetContainer.animate({scrollTop:0},600)};this.widget.empty();this.widget.append(d);d.on("click",function(){ajaxCall(c,e,f,g)})};
LoginWidget.prototype.addRegisterValidation=function(){(new FormValidation).addBasicValidation(this.registerFormInputs.username,this.registerFormInputs.email,this.registerFormInputs.confirmEmail,this.registerFormInputs.password,this.registerFormInputs.confirmPassword,this.registerFormInputs.submit)};var OrderWidget=function(a){this.widgetContainer=(a=void 0===a?null:a)?a:$("body");this.widgetActiveClass="orderWidgetActive";this.widget=this.contentWrapper=null;this.isPopup=!1;this.nextButton=this.previousButton=this.currentSectionWidget=this.widgetSection=this.cartButton=this.closeButton=null;this.stage=0;this.loading=this.active=!1;this.nav=null};
OrderWidget.prototype.withWidget=function(){this.widget&&this.widget.remove();this.widget=this.widgetContainer.find(".orderWidget");this.widgetSection=this.widget.find(".orderWidgetStageContent");this.loading=!1;this.active=!0;this.contentWrapper=this.widgetContainer.find(".orderWidgetContentWrapper");if(this.isPopup){var a=$("body");a.addClass(this.widgetActiveClass);a.append(this.widgetContainer);this.closeButton=this.widget.find(".orderWidgetCloseButton");this.addCloseButton();this.addCloseWhenClickOutside()}this.previousButton&&
(this.previousButton.off("click"),this.previousButton=null);this.nextButton&&(this.nextButton.off("click"),this.nextButton=null);if(a=this.widget.find(".orderWidgetPreviousButton"))this.previousButton=a;if(a=this.widget.find(".orderWidgetNextButton"))this.nextButton=a;switch(this.stage){case 0:this.currentSectionWidget=new CartWidget(this.widgetSection);break;case 1:this.currentSectionWidget=new LoginWidget(this.widgetSection);break;default:this.currentSectionWidget=new CartWidget(this.widgetSection)}this.currentSectionWidget.withWidget();
this.addPagination()};
OrderWidget.prototype.loadWidgetAjax=function(a){a=void 0===a?!1:a;var b=this;ajaxCall({action:"loadOrderWidgetAjax",isPopup:b.isPopup,stage:b.stage},function(){a?b.contentWrapper.addClass("loadingScreen"):b.cartButton&&b.cartButton.addClass("loadingCenter")},function(c){console.log(c);a?b.contentWrapper.removeClass("loadingScreen"):b.cartButton&&b.cartButton.removeClass("loadingCenter")},function(c){a?b.contentWrapper.removeClass("loadingScreen"):b.cartButton&&b.cartButton.removeClass("loadingCenter");b.widgetContainer.empty().append(c);
b.widgetContainer.addClass(b.widgetActiveClass);b.withWidget();b.isPopup||$("html, body").animate({scrollTop:0},300)})};OrderWidget.prototype.loadWidgetAjaxViaButton=function(a){var b=this;this.isPopup=!0;this.cartButton=a;this.cartButton.on("click",function(a){a.preventDefault();b.active||b.loading||(b.loading=!0,b.stage=0,b.loadWidgetAjax())})};OrderWidget.prototype.addCloseWhenClickOutside=function(){var a=this;$("body").on("click",function(b){a.active&&0===a.widget.has(b.target).length&&a.close()})};
OrderWidget.prototype.addCloseButton=function(){var a=this;this.closeButton.on("click",function(b){b.preventDefault();a.close()})};OrderWidget.prototype.close=function(){this.widgetContainer.remove();$("body").removeClass(this.widgetActiveClass);this.active=!1};
OrderWidget.prototype.addPagination=function(){var a=this;if(this.previousButton)this.previousButton.on("click",function(b){b.preventDefault();--a.stage;a.changeStage()});if(this.nextButton)this.nextButton.on("click",function(b){b.preventDefault();a.stage+=1;a.changeStage()})};OrderWidget.prototype.changeStage=function(){this.loadWidgetAjax(!0)};var CheckoutWidget=function(a){this.container=a;this.widget=null;this.stagesNames=[];this.stage=0;this.nextButton=this.previousButton=null;this.stagesNodes=[];this.loginWidget=this.cartLink=null;this.stages=[]};
CheckoutWidget.prototype.withWidget=function(){var a=this;this.widget&&this.widget.remove();this.widget=this.container.find(".checkoutWidget");this.cartLink=this.widget.find(".checkoutWidgetPreviousLink");this.stage=0;this.widget.find(".orderWidgetStage").each(function(b,d){a.stages.push($(d))});this.previousButton=this.widget.find(".checkoutWidgetPreviousButton");this.nextButton=this.widget.find(".checkoutWidgetNextButton");this.stagesNames=["Formularz","Podsumowanie i dostawa","P\u0142atno\u015b\u0107"];
this.stagesNodes=[this.widget.find(".checkoutWidgetBilling"),this.widget.find(".checkoutWidgetSummary"),this.widget.find(".checkoutWidgetPayment")];var b=$(".checkoutWidgetLoginContainer");b.length&&(this.loginWidget=new LoginWidget(b),this.loginWidget.withWidget(!0),this.stagesNodes.unshift(this.widget.find(".loginWidget")),this.stagesNames.unshift("Logowanie"));this.changeStage();this.addPagination()};
CheckoutWidget.prototype.addPagination=function(){var a=this;$([this.previousButton,this.nextButton]).each(function(b,c){$(c).on("click",function(c){c.preventDefault();a.stage=0===b?a.stage-1:a.stage+1;a.changeStage()})})};
CheckoutWidget.prototype.changeStage=function(){$("html, body").animate({scrollTop:0},400);var a=this.previousButton.parent(),b=this.nextButton.parent(),c=this.cartLink.parent();0===this.stage?(a.addClass("hide"),c.hasClass("hide")&&c.removeClass("hide")):(a.hasClass("hide")&&a.removeClass("hide"),this.previousButton.html("<< "+this.stagesNames[this.stage-1]),c.hasClass("hide")||c.addClass("hide"));this.stage+1===this.stagesNames.length?b.addClass("hide"):(b.hasClass("hide")&&b.removeClass("hide"),
this.nextButton.html(this.stagesNames[this.stage+1]+" >>"));for(a=0;a<this.stagesNodes.length;++a)this.stagesNodes[a].hasClass("hide")||this.stage===a||this.stagesNodes[a].addClass("hide");a=3===this.stagesNames.length?2:1;$(this.stages).each(function(a,b){$(b).removeClass("active");$(b).removeClass("current")});for(b=0;b<=this.stage+a;++b)this.stages[b].addClass("active");this.stages[this.stage+a].addClass("current");this.stagesNodes[this.stage].removeClass("hide")};var Search=function(a){this.searchForm=$("#"+a);this.searchResults=this.searchForm.find(".searchResults");this.searchInput=this.searchForm.find(".searchField")};
Search.prototype.addAjaxSearch=function(){var a=this,b=this.searchInput.parent(),c={action:"searchAjax"},d=function(){a.searchResults.empty();b.addClass("loadingRight");a.searchResultsClose()},e=function(){b.removeClass("loadingRight")},f=function(c){b.removeClass("loadingRight");a.searchResults.empty().append(c);a.searchResultsShow()};this.searchInput.on("keyup",function(){a.searchResultsClose();c.searchPhrase=a.searchInput.val();ajaxCall(c,d,e,f)})};Search.prototype.searchResultsClose=function(){this.searchResults.removeClass("active")};
Search.prototype.searchResultsShow=function(){this.searchResults.addClass("active")};Search.prototype.closingSearchResultEvent=function(){var a=this;$("body").on("click",function(b){a.searchForm.is(b.target)||0!==a.searchForm.has(b.target).length||a.searchResultsClose()})};var EmailFormHandler=function(a){this.form=a};EmailFormHandler.prototype.submitEvent=function(){var a=this;a.form.on("submit",function(b){b.preventDefault();var c=a.form;b=c.find(".contactFormName").val();var d=c.find(".contactFormEmail").val();c=c.find(".contactFormMessage").val();a.sendEmail(b,d,c)})};
EmailFormHandler.prototype.sendEmail=function(a,b,c){var d=this;ajaxCall({action:"sendUserEmail",name:a,email:b,message:c},function(){d.form.addClass("loadingScreen");d.form.find("#ftrContactFormSubmit").prop("disabled",!0)},function(a){console.log(a);d.form.removeClass("loadingScreen");d.displayMessage("contactFormFailInfo");d.form.find("#ftrContactFormSubmit").prop("disabled",!1)},function(){d.form.removeClass("loadingScreen");d.displayMessage("contactFormSuccessInfo");d.form.find("#ftrContactFormSubmit").prop("disabled",
!1)})};EmailFormHandler.prototype.displayMessage=function(a){var b=this.form.find("."+a);b.css("display","flex");setTimeout(function(){b.css("display","none")},2E3)};$(function(){$("img").each(function(a,b){var c=$(b);c.on("error",function(a){c.parent().find("source").attr("srcset",c.attr("src"));a.preventDefault()})});var a=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",a+"px");$(window).on("resize",function(){a=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",a+"px")});var b=new MobileNav($("#shopNavWrapper"),"shopNavDisplay",$("#shopNavMobileCloseButton"));b.addCloseOnResizeEvent();b.addNavSubListExpandButton($(".shopNavListItemSubListExpandButton"),
"shopNavListItemSubList","expand");b=new Search("shopSearch");b.addAjaxSearch();b.closingSearchResultEvent();b=$("#pageContactForm");b.length&&(new EmailFormHandler(b)).submitEvent();b=$("#shopPageProductListWidget");b.length&&(new AjaxPagination(b,"shopPageProductListWidget")).addAjaxPagination();b=$(".teaseProduct");b.length&&((new TeaseProducts(b,"teaseProductAnchor")).addForm("teaseProductForm","cartButtonQuantity"),b=new CustomSelect,b.showSelect(),b.hideSelectWhenClickedOutsideSelect());b=$("#accountPageLoginWidgetContainer");
b.length&&(new LoginWidget(b)).withWidget(!0);b=$("#cartPageCartWidgetContainer");b.length&&(new OrderWidget(b)).withWidget();b=$("#cartButton");b.length&&(new OrderWidget($('<div id="#orderWidgetContainer" class="widget">'))).loadWidgetAjaxViaButton(b);b=$("#checkoutPage");b.length&&(new CheckoutWidget(b)).withWidget();b=$(".teaseProductGalleryContainer");b.length&&new Gallery(b)});
function addInputMinMaxTesting(a){var b=a.attr("min"),c=a.attr("max"),d=a.val();c&&parseInt(d)>parseInt(c)?a.val(c):b&&parseInt(d)<parseInt(b)?a.val(b):""===d&&(b?a.val(b):a.val(1))}function ajaxCall(a,b,c,d){$.ajax({url:ajaxPaginationParams.ajaxUrl,type:"POST",data:a,beforeSend:b,error:c,success:d})};
